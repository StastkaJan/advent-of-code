<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">

  <title>Day 23 - Advent of code</title>
</head>

<body>
  <pre
    style="word-wrap: break-word; white-space: pre-wrap;">#.###########################################################################################################################################
#...#.....#.........#...#.......#...#...###...#...#...###...#...............#.........#.......#.....#...#...#.........#.....#...###.........#
###.#.###.#.#######.#.#.#.#####.#.#.#.#.###.#.#.#.#.#.###.#.#.#############.#.#######.#.#####.#.###.#.#.#.#.#.#######.#.###.#.#.###.#######.#
###...#...#.......#.#.#.#...#...#.#.#.#...#.#.#.#.#.#...#.#.#.#.......#.....#...#.....#...#...#...#.#.#.#.#.#.#.....#.#...#.#.#...#.......#.#
#######.#########.#.#.#.###.#.###.#.#.###.#.#.#.#.#.###.#.#.#.#.#####.#.#######.#.#######.#.#####.#.#.#.#.#.#.#.###.#.###.#.#.###.#######.#.#
#.......#.....#...#.#.#.#...#.&gt;.&gt;.#.#.#...#.#.#.#.#.#...#.#.#...#...#.#.#...###.#...#...#.#.#.....#.#.#...#.#...###.#.#...#.#...#.....###.#.#
#.#######.###.#.###.#.#.#.#####v###.#.#.###.#.#.#.#.#.###.#.#####.#.#.#.#.#.###.###.#.#.#.#.#.#####.#.#####.#######.#.#.###.###.#####.###.#.#
#...#...#...#.#...#.#.#.#.....#...#...#...#.#.#.#.#.#.#...#.&gt;.&gt;.#.#...#.#.#.&gt;.&gt;.#...#.#.#.#.#...#...#.....#.###.....#.#.#...###.#.....#...#.#
###.#.#.###.#.###.#.#.#.#####.###.#######.#.#.#.#.#.#.#.#####v#.#.#####.#.###v###.###.#.#.#.###.#.#######.#.###.#####.#.#.#####.#.#####.###.#
###...#...#.#.#...#.#.#.#.....###.......#...#...#.#.#.#.#.....#...#...#...#...###...#.#.#.#...#.#.#...#...#.#...#.....#.#.#...#.#.....#...#.#
#########.#.#.#.###.#.#.#.#############.#########.#.#.#.#.#########.#.#####.#######.#.#.#.###.#.#.#.#.#.###.#.###.#####.#.#.#.#.#####.###.#.#
#.........#.#...###.#.#.#.#...#.........###...#...#.#...#.#.........#...###.......#...#.#...#...#...#.#.#...#...#.#...#.#.#.#.#.#.....#...#.#
#.#########.#######.#.#.#.#.#.#.###########.#.#.###.#####.#.###########.#########.#####.###.#########.#.#.#####.#.#.#.#.#.#.#.#.#.#####.###.#
#.#...#...#.......#.#.#.#.#.#.#.............#.#...#.....#...###.........#.........#.....#...#.......#.#.#.#...#.#.#.#.#.#.#.#.#.#...#...#...#
#.#.#.#.#v#######.#.#.#.#.#.#.###############.###.#####.#######.#########.#########.#####.###.#####.#.#.#.#.#.#.#.#.#.#.#.#.#.#.###.#.###.###
#...#...#.&gt;.#.....#...#...#.#...............#.###.....#.#.......#...#####.........#...#...###.#...#...#.#...#...#.#.#.#.#.#.#.#...#.#.#...###
#########v#.#.#############.###############.#.#######.#.#.#######.#.#############.###.#.#####.#.#.#####.#########.#.#.#.#.#.#.###.#.#.#.#####
#.........#...###.....#.....#.............#.#...#...#...#...#...#.#.....#.......#...#.#...###.#.#...###.........#...#...#...#.#...#.#.#.....#
#.###############.###.#.#####.###########.#.###.#.#.#######.#.#.#.#####.#.#####.###.#.###.###.#.###.###########.#############.#.###.#.#####.#
#.#.....#...#.....#...#.....#.#...........#.....#.#...#.....#.#...#.....#.#...#.....#.....#...#.###...&gt;.&gt;...#...###.........#...###.#.#.....#
#.#.###.#.#.#.#####.#######.#.#.#################.###.#.#####.#####.#####.#.#.#############.###.#######v###.#.#####.#######.#######.#.#.#####
#.#.###...#...#.....#...###...#.............#...#.#...#.......#...#.....#...#.....#.......#...#.#.......#...#.....#...#.....###...#.#.#.....#
#.#.###########.#####.#.###################.#.#.#.#.###########.#.#####.#########.#.#####.###.#.#.#######.#######.###.#.#######.#.#.#.#####.#
#...#...........#...#.#.#...#...#.........#...#...#.#...........#.......#.......#.#.#.....###...#.......#.........#...#.....#...#.#.#.#.....#
#####.###########.#.#.#.#.#.#.#.#.#######.#########.#.###################.#####.#.#.#.#################.###########.#######.#.###.#.#.#.#####
#...#...........#.#...#.#.#.#.#.#.......#.#...#...#.#.#.................#.....#...#.#.....#...#...#...#...#...#...#...#.....#.#...#...#.....#
#.#.###########.#.#####.#.#.#.#.#######.#.#.#.#.#.#.#.#.###############.#####.#####.#####.#.#.#.#.#.#.###.#.#.#.#.###.#.#####.#.###########.#
#.#...........#...#.....#.#.#.#.#.......#...#.#.#...#.#.#...............#...#.....#.#.....#.#.#.#.#.#.###...#.#.#.#...#.#.....#.#...#.......#
#.###########.#####.#####.#.#.#.#.###########.#.#####.#.#.###############.#.#####.#.#.#####.#.#.#.#.#.#######.#.#.#.###.#.#####.#.#.#.#######
#...........#.......#.....#.#.#.#...........#...#...#...#...#.......#...#.#.......#.#.#...#.#.#.#.#.#.#...#...#.#.#...#.#.....#.#.#.#...#...#
###########.#########.#####.#.#.###########.#####.#.#######.#.#####.#.#.#.#########.#.#.#.#.#.#.#.#.#.#.#.#.###.#.###.#.#####.#.#.#.###v#.#.#
#...#.......#...#...#...#...#.#.#...#.......#...#.#.###...#...#...#...#.#.#.....#...#.#.#.#.#.#.#.#.#.#.#.#.###.#...#.#.#...#.#.#.#.#.&gt;.#.#.#
#.#.#.#######.#v#.#.###.#.###.#.#.#.#.#######.#.#.#.###.#.#####.#.#####.#.#.###.#.###.#.#.#.#.#.#.#.#.#.#.#v###.###.#.#.#.#.#.#.#.#.#.#v#.#.#
#.#.#.........#.&gt;.#...#.#.#...#...#.#.....#...#.#.#.#...#.#.....#.......#...#...#.#...#.#.#.#...#.#.#.#.#.&gt;.&gt;...###.#.#.#.#.#.#.#.#.#.#...#.#
#.#.###########v#####.#.#.#.#######.#####.#.###.#.#.#.###.#.#################.###.#.###.#.#.#####.#.#.#.###v#######.#.#.#.#.#.#.#.#.#.#####.#
#.#.............#.....#.#.#.....#...#.....#.#...#.#.#.#...#...#.....#.....#...#...#...#.#.#.#...#...#.#.###.......#.#.#.#.#...#...#...#...#.#
#.###############.#####.#.#####.#.###v#####.#.###.#.#.#.#####.#.###.#.###.#.###.#####.#.#.#.#.#.#####.#.#########.#.#.#.#.#############.#.#.#
#.#...#.........#.....#.#.#...#.#...&gt;.&gt;.....#.#...#...#.#####...#...#.#...#...#.....#.#.#.#...#.###...#.#.........#...#...#...###...#...#...#
#.#.#.#.#######.#####.#.#.#.#.#.#####v#######.#.#######.#########.###.#.#####v#####.#.#.#.#####.###.###.#.#################.#.###.#.#.#######
#...#...#.......###...#.#.#.#.#...#...#.......#.......#...#...###...#.#...#.&gt;.&gt;.....#...#.#.....#...#...#...........#.......#...#.#.#.....###
#########.#########.###.#.#.#.###.#.###.#############.###.#.#.#####.#.###.#.#v###########.#.#####.###.#############.#.#########.#.#.#####.###
#.........#.....#...#...#.#.#.#...#...#.#...#...#...#.#...#.#.#...#.#...#...#.......#.....#.....#...#.#.............#.......#...#.#.#...#...#
#.#########.###.#.###.###.#.#.#.#####.#.#.#.#.#.#.#.#.#.###.#.#.#.#v###.###########.#.#########.###.#.#.###################.#.###.#.#.#.###.#
#...........#...#...#.#...#.#.#.#.....#.#.#...#.#.#.#.#...#.#...#.&gt;.&gt;...#...........#.....#.....###...#.............###...#.#.....#...#.#...#
#############.#####.#.#.###.#.#.#.#####.#.#####.#.#.#.###.#.#######v#####.###############.#.#######################.###.#.#.###########.#.###
###...#.......#####.#.#.#...#...#.....#.#.#.....#.#...###...#...###.#.....#.............#.#...#...#...#...........#.#...#...#.......#...#...#
###.#.#.###########.#.#.#.###########.#.#.#.#####.###########.#.###.#.#####.###########.#.###.#.#.#.#.#.#########.#.#.#######.#####.#.#####.#
#...#...#.........#.#.#.#.#...........#...#...#...###...###...#.#...#...#...#.......#...#.#...#.#.#.#.#.........#...#.#.......#...#.#.#...#.#
#.#######.#######.#.#.#.#.#.#################.#.#####.#.###.###.#.#####.#.###.#####.#.###.#.###.#.#.#.#########.#####.#.#######.#.#.#.#.#.#.#
#.........#.......#...#...#.............#...#.#.#...#.#.#...###.#.....#...###.....#.#.#...#.#...#.#.#...#...#...#.....#...#.....#...#...#.#.#
###########.###########################.#.#.#.#.#.#.#.#.#.#####.#####.###########.#.#.#.###.#.###.#.###.#.#.#.###.#######.#.#############.#.#
#.......###.#...#...#...#...............#.#.#...#.#.#.#.#.....#.#...#...#.........#...#.....#...#.#...#.#.#...###.........#...........###...#
#.#####.###.#.#.#.#.#.#.#.###############.#.#####.#.#.#.#####.#.#.#.###.#.#####################.#.###.#.#.###########################.#######
#.#...#.....#.#.#.#...#.#.............#...#.....#.#.#.#.....#.#...#.....#.#...........#...#...#.#.....#.#...........#...............#.......#
#.#.#.#######.#.#.#####.#############.#.#######.#.#.#v#####.#.###########.#.#########.#.#.#.#.#.#######.###########.#.#############.#######.#
#...#.......#.#.#.#.....#...#...#.....#.......#.#.#.&gt;.&gt;...#...###...#...#.#.#.........#.#.#.#...#.....#.............#.........#...#.........#
###########v#.#.#.#.#####.#.#.#.#.###########.#.#.###v###.#######.#.#.#.#.#.#.#########.#.#.#####.###.#######################.#.#.###########
###...#...#.&gt;.#...#.....#.#.#.#.#...###...#...#.#.###...#...#...#.#.#.#.#...#...#...###.#.#.......###.........#...###...###...#.#.###.......#
###.#.#.#.#v###########.#.#.#.#.###.###.#.#.###.#.#####.###.#.#.#.#.#.#.#######.#.#.###.#.###################.#.#.###.#.###v###.#.###.#####.#
#...#...#.#.....#.......#.#.#.#...#.#...#.#...#.#.#.....#...#.#...#.#.#...#...#...#.#...#.#...###...###...###.#.#.#...#...&gt;.#...#.....#...#.#
#.#######.#####.#.#######.#.#.###.#.#.###.###.#.#.#.#####.###.#####.#.###.#.#.#####.#.###.#.#.###.#.###.#.###v#.#.#.#######v#.#########.#.#.#
#.......#.......#.......#.#.#.#...#.#...#.....#...#.....#...#.....#.#.#...#.#.#.....#...#.#.#...#.#.#...#.#.&gt;.&gt;.#...#.......#...#.......#...#
#######.###############.#.#.#.#.###.###.###############.###.#####.#.#.#.###.#.#v#######.#.#.###.#.#.#.###.#.#v#######.#########.#.###########
#.......#...#...#.......#.#.#.#...#.###.............#...###.#...#.#.#.#...#.#.&gt;.&gt;.....#.#.#...#.#.#.#.###...#.......#...#.......#...........#
#.#######.#.#.#.#.#######.#.#.###.#.###############.#.#####.#.#.#.#.#.###.#.###v#####.#.#.###.#.#.#.#.#############.###.#.#################.#
#.......#.#...#.#...#...#.#.#.#...#.#...........#...#.....#...#.#.#.#.###.#.#...#...#...#...#.#.#.#.#.#.............#...#.#.................#
#######.#.#####.###.#.#.#.#.#.#.###v#.#########.#.#######.#####.#.#.#.###.#.#.###.#.#######.#.#.#.#.#.#.#############.###.#.#################
#.......#.#.....###...#.#.#.#.#...&gt;.&gt;.#...#...#.#.#.....#.....#.#.#.#.#...#.#...#.#.......#.#.#.#.#...#.........#...#.....#.....#...........#
#.#######.#.###########.#.#.#.#####v###.#.#.#.#.#.#.###.#####.#.#.#.#.#.###.###.#.#######.#.#.#.#.#############.#.#.###########.#.#########.#
#...#...#.#...........#.#.#...#...#.....#...#.#.#.#...#.......#...#...#...#.###...#.......#...#.#.#.......#.....#.#.#...........#.#.........#
###.#.#.#.###########.#.#.#####.#.###########.#.#.###.###################.#.#######.###########.#.#.#####.#.#####.#.#.###########.#.#########
###.#.#.#.#...........#.#.#.....#.#...###.....#...###...........###...###...#.......###...#...#...#.....#...###...#.#.............#.........#
###.#.#.#.#.###########.#.#.#####.#.#.###.#####################.###.#.#######.#########.#.#.#.#########.#######.###.#######################.#
#...#.#...#...#.......#...#.....#.#.#...#...#...#...............#...#...#...#...........#...#.###...###.........#...#...........#...........#
#.###.#######.#.#####.#########.#.#.###.###.#.#.#.###############.#####.#.#.#################.###.#.#############.###.#########.#.###########
#.....#.....#.#.#.....#...#...#.#.#.#...#...#.#.#...........#...#...#...#.#.###.......#.......#...#.#.............###.........#.#.....#...###
#######.###.#.#.#v#####.#.#.#.#.#.#.#.###v###.#.###########.#.#.###.#.###.#.###.#####.#.#######.###.#.#######################.#.#####.#.#.###
#...###...#.#...#.&gt;...#.#.#.#.#.#.#.#.#.&gt;.&gt;...#.....#.......#.#...#.#.#...#...#.#...#...###...#...#.#.......#.......#.....#...#.....#...#...#
#.#.#####.#.#####v###.#.#.#.#.#.#.#.#.#.#v#########.#.#######.###.#.#.#.#####.#.#.#.#######.#.###.#.#######.#.#####.#.###.#.#######.#######.#
#.#.......#.......###.#.#.#.#.#.#...#...#.#.........#.......#.#...#.#.#.....#.#...#.#.....#.#.#...#.#...#...#...#...#...#.#...#...#.#.......#
#.###################.#.#.#.#.#.#########.#.###############.#.#.###.#.#####.#.#####v#.###.#.#.#.###.#.#.#.#####.#.#####.#.###v#.#.#.#.#######
#.#...............###...#.#.#.#.#.........#.........#...#...#.#...#.#...#...#.#...&gt;.&gt;.#...#.#.#...#.#.#.#...###.#.#...#.#.#.&gt;.#.#.#...#...###
#.#.#############.#######.#.#.#.#.#################.#.#.#.###.###.#.###.#.###.#.###v###.###.#.###.#.#.#.###.###.#.#.#.#.#.#.#v#.#.#####.#.###
#.#.#.............#...###...#...#.......#.......#...#.#.#...#.###...###.#...#...#...###...#.#.###.#.#.#.#...#...#.#.#.#.#...#...#...###.#.###
#.#.#.#############.#.#################.#.#####.#.###.#.###.#.#########.###.#####.#######.#.#.###.#.#.#.#v###.###.#.#.#.###########.###.#.###
#.#.#...#...#...#...#...#...#...#...#...#.....#.#.#...#.#...#.........#.#...#...#.....#...#.#.#...#.#.#.&gt;.&gt;...###.#.#.#.#.........#.....#...#
#.#.###.#.#.#.#.#.#####.#.#.#.#.#.#.#.#######.#.#.#.###.#.###########.#.#.###.#.#####.#.###.#.#.###.#.###v#######.#.#.#.#.#######.#########.#
#.#.###...#...#...#.....#.#...#.#.#.#.#.......#...#...#.#...#...#...#.#.#.#...#.......#...#.#.#...#.#.###...#...#...#.#.#.......#...#...#...#
#.#.###############.#####.#####.#.#.#.#.#############.#.###v#.#.#.#.#.#.#.#.#############.#.#.###.#.#.#####.#.#.#####.#.#######.###.#.#.#.###
#.#.#.............#.....#.....#...#.#.#...#...#...#...#...&gt;.&gt;.#...#...#...#.............#.#.#...#.#...#.....#.#.#...#...###...#...#.#.#.#...#
#.#.#.###########.#####.#####.#####.#.###.#.#.#.#.#.#######v###########################.#.#.###.#.#####.#####.#.#.#.#######.#.###.#.#.#.###.#
#.#.#...........#.#.....#####.....#...###.#.#.#.#.#.#.......#.......#...#.............#.#.#...#...###...#.....#.#.#.....#...#.....#...#.....#
#.#.###########.#.#.#############.#######.#.#.#.#.#.#.#######.#####.#.#.#.###########.#.#.###.#######.###.#####.#.#####.#.###################
#.#.#...........#...#...#.......#.......#.#.#.#.#...#.......#.#.....#.#.#...........#...#...#...#...#...#.#.....#.#.....#...#.....#.........#
#.#.#.###############.#.#.#####.#######.#.#.#.#.###########.#.#.#####.#.###########.#######.###.#.#.###.#.#.#####.#.#######.#.###.#.#######.#
#.#.#...............#.#.#.....#.........#.#.#.#.#.........#...#...#...#.#...###.....#.....#.....#.#...#...#.......#.#...#...#.#...#.#.......#
#.#.###############.#.#.#####.###########.#.#.#.#.#######.#######.#.###.#.#.###.#####.###.#######.###.#############.#.#.#.###.#.###.#.#######
#...###...........#...#...###...........#.#.#...#.......#.#.......#...#.#.#...#.....#.#...#.....#.#...#...#.......#...#.#.....#.....#.......#
#######.#########.#######.#############.#.#.###########.#.#.#########.#.#.###.#####.#.#.###.###.#.#.###.#.#.#####.#####.###################.#
#...#...#.......#.........#.......#.....#...###...#.....#...#...#...#.#.#.#...#.....#.#...#.#...#.#...#.#.#.....#.#...#.#.......#.....#.....#
#.#.#.###.#####v###########.#####.#.###########.#.#.#########.#.#.#.#.#.#.#.###v#####.###.#.#.###.###.#.#.#####.#.#.#.#.#.#####.#.###.#.#####
#.#...#...#...#.&gt;.#...#...#...###...#...........#.#.....###...#.#.#...#.#.#...&gt;.&gt;...#.#...#.#...#.#...#.#.#...#.#...#...#.....#.#...#.#.....#
#.#####.###.#.#v#.#.#.#.#.###v#######.###########.#####.###.###.#.#####.#.#####v###.#.#.###.###.#.#.###.#.#.#.#.#############.#.###.#.#####.#
#.....#.#...#...#...#.#.#...&gt;.&gt;.#...#.....#.......#...#...#...#.#.#.....#...#...###...#.#...#...#.#.#...#.#.#.#...#...#.......#.#...#.#.....#
#####.#.#.###########.#.#####v#.#.#.#####.#.#######.#.###.###.#.#.#.#######.#.#########.#.###.###.#.#.###.#.#.###.#.#.#.#######.#.###.#.#####
#####...#...........#...###...#...#.#.....#.....#...#.....#...#.#.#...#.....#.......###.#.#...###.#.#...#.#.#.#...#.#.#.....###...###.#.....#
###################.#######.#######.#.#########.#.#########.###.#.###.#.###########.###.#.#.#####.#.###.#.#.#.#v###.#.#####v#########.#####.#
#...................#.....#...#.....#.....#.....#.......#...###.#.###...#...#...#...#...#.#.#.....#...#.#.#.#.&gt;.&gt;.#.#.....&gt;.#.....###.#.....#
#.###################.###.###.#.#########.#.###########v#.#####.#.#######.#.#.#.#.###.###.#.#.#######.#.#.#.###v#.#.#######v#.###.###.#.#####
#...#...............#...#.....#...#.....#.#...#...#...&gt;.&gt;.#...#.#.#.......#...#...###...#.#.#.......#...#...#...#.#.#.......#...#...#.#.....#
###.#.#############.###.#########.#.###.#.###.#.#.#.###v###.#.#.#.#.###################.#.#.#######.#########.###.#.#.#########.###.#.#####.#
###...#.............###...#.....#...###...###...#.#.#...###.#.#...#.#.....#...#...#...#...#.........###...#...###...#...........#...#.....#.#
#######.#################.#.###.#################.#.#.#####.#.#####.#.###.#.#.#.#.#.#.#################.#.#.#####################.#######.#.#
#.....#.............#.....#.###...#...###...#.....#.#.......#.....#...###...#...#...#.....###...###.....#...#.........#...#.......#...###...#
#.###.#############.#.#####.#####.#.#.###.#.#.#####.#############.#######################.###.#.###.#########.#######.#.#.#.#######.#.#######
#...#...............#.#.....#...#...#...#.#...#.....#.............#...............#.....#.....#...#.....#...#.#.......#.#.#.......#.#.......#
###.#################.#.#####.#.#######.#.#####.#####.#############.#############.#.###.#########.#####.#.#.#.#.#######.#.#######.#.#######.#
###...#...#.....#...#...#.....#.......#.#...#...#.....#...#...#...#...........###...###.#.........#...#.#.#...#...#.....#.........#.#.......#
#####.#.#.#.###.#.#.#####.###########.#.###.#.###.#####.#.#.#.#.#.###########.#########.#.#########.#.#.#.#######.#.###############.#.#######
#####...#...###...#.....#.......#...#...###...###...#...#...#.#.#.#...#...###...#...###...#.....###.#.#...#.....#.#.#...#.....#...#.#.#...###
#######################.#######.#.#.###############.#.#######.#.#.#.#.#.#.#####.#.#.#######.###.###.#.#####.###.#.#.#.#.#.###.#.#.#.#.#.#.###
#.......................###...#...#.........#...#...#.#.......#.#.#.#.#.#.###...#.#...#...#.#...#...#.......###...#...#...#...#.#...#...#...#
#.#########################.#.#############.#.#.#.###.#.#######.#.#.#.#.#.###v###.###.#.#.#.#.###.#########################.###.###########.#
#.................#.....#...#.#.............#.#.#.....#...###...#.#.#.#.#.#.&gt;.&gt;.#.#...#.#...#...#...#.......#...#...#...#...#...#...........#
#################.#.###.#.###.#.#############.#.#########v###.###.#.#.#.#.#.###.#.#.###.#######.###.#.#####.#.#.#.#.#.#.#.###.###.###########
#...#...#...###...#.#...#...#.#.....#.......#.#.#.......&gt;.&gt;.#...#...#.#.#...#...#.#...#.....#...#...#.#.....#.#.#.#.#.#.#...#.#...#...#.....#
#.#.#.#.#.#.###.###.#.#####.#.#####.#.#####.#.#.#.#########.###.#####.#.#####.###.###.#####.#.###.###.#.#####.#.#.#.#.#.###v#.#.###.#.#.###.#
#.#...#...#.....###.#...#...#.#...#.#.#.....#.#.#.......#...#...#.....#.....#...#.#...#...#.#...#.....#.....#.#.#.#.#.#.#.&gt;.#.#...#.#.#.#...#
#.#################.###.#.###.#.#.#.#.#.#####.#.#######.#.###.###.#########.###.#.#.###.#.#.###.###########.#.#.#.#.#.#.#.#v#.###.#.#.#.#.###
#.........#.....#...#...#...#...#.#...#...#...#.#...#...#.....###...#.....#...#.#.#.#...#.#.#...#...#.......#.#...#...#...#.#.#...#.#.#.#...#
#########.#.###.#.###.#####.#####.#######.#.###.#.#.#.#############.#.###.###.#.#.#.#.###.#.#.###.#.#.#######.#############.#.#.###.#.#.###.#
#...#...#.#...#.#.#...#...#...#...#...###.#...#.#.#.#.........#...#.#...#.#...#...#.#.#...#.#...#.#.#.......#.............#...#.....#.#.#...#
#.#.#.#.#.###.#.#.#.###.#.###.#.###.#.###v###.#.#.#.#########.#.#.#.###.#.#.#######.#.#.###.###.#.#.#######v#############.###########.#.#.###
#.#...#...#...#...#...#.#...#.#...#.#.#.&gt;.&gt;.#.#.#.#.#.....#...#.#.#.#...#.#...#.....#.#...#.#...#.#.#...#.&gt;.&gt;.#...#...#...#...........#.#...#
#.#########.#########.#.###.#.###.#.#.#.###.#.#.#.#.#.###.#.###.#.#.#.###.###.#.#####.###.#.#.###.#.#.#.#.###.#.#.#.#.#.###.###########.###.#
#...#.......###.......#...#...###.#.#...###.#.#.#.#.#...#.#...#.#...#.#...#...#...#...#...#.#...#.#...#.#.###...#.#.#.#.#...#.....#...#.#...#
###.#.#########.#########.#######.#.#######.#.#.#.#.###.#.###.#.#####.#.###.#####.#.###.###.###.#.#####.#.#######.#.#.#.#.###.###.#.#.#.#.###
#...#.#.........#...#...#.#.......#.......#.#.#.#.#.#...#.#...#...#...#...#.....#.#.###...#.###.#.#.....#...#.....#.#.#.#...#.#...#.#.#.#.###
#.###.#.#########.#.#.#.#.#.#############.#.#.#.#.#.#.###.#.#####.#.#####.#####.#.#.#####.#.###.#.#.#######.#.#####.#.#.###.#.#.###.#.#.#.###
#.....#...........#...#...#...............#...#...#...###...#####...#####.......#...#####...###...#.........#.......#...###...#.....#...#...#
###########################################################################################################################################.#</pre>

  <script defer>
    const parseInput = (input) => {
      const data = input.split('\n').map(val => val.split(''))
      return data
    }
    data = parseInput(document.querySelector('pre').innerText)

    const possibleStep = (possibleMove, noSlope) => {
      const moveAround = [[-1, 0], [0, 1], [1, 0], [0, -1]] // top, right, bottom, left
      const moveArray = ['^.', '>.', 'v.', '<.'] // top, right, bottom, left
      const returnArray = []

      for (let i = 0; i < possibleMove.length; i++) {
        returnArray[i] = noSlope
          ? possibleMove[i] !== '#' ? moveAround[i] : 0
          : moveArray[i].includes(possibleMove[i]) ? moveAround[i] : 0
      }

      return returnArray
    }

    const move = (grid, noSlope = false) => {
      const start = [0, 1]
      const end = [grid.length - 1, grid[0].length - 2]
      const steps = [{ position: start, steps: 0, steppedOnto: [] }]

      let iter = 0
      let count = 0

      while (steps.length > iter && count < 1_000_000) {
        const startingPosition = steps[iter].position
        const row = steps[iter].position[0]
        const col = steps[iter].position[1]

        if (row === end[0] && col === end[1]) {
          iter++
          continue
        }

        const moveResult = possibleStep([
          row > 0 && !steps[iter].steppedOnto.find(val => val[0] === row - 1 && val[1] === col)
            ? grid[row - 1][col] : '#',
          col > 0 && !steps[iter].steppedOnto.find(val => val[0] === row && val[1] === col + 1)
            ? grid[row][col + 1] : '#',
          row < grid.length - 1 && !steps[iter].steppedOnto.find(val => val[0] === row + 1 && val[1] === col)
            ? grid[row + 1][col] : '#',
          col < grid[0].length - 1 && !steps[iter].steppedOnto.find(val => val[0] === row && val[1] === col - 1)
            ? grid[row][col - 1] : '#'
        ], noSlope) // top, right, bottom, left

        let addedTimes = 0
        for (let i = 0; i < moveResult.length; i++) {
          if (moveResult[i] !== 0) {
            if (addedTimes === 0) {
              steps[iter].steps++
              steps[iter].steppedOnto.push(steps[iter].position)
              steps[iter].position = [steps[iter].position[0] + moveResult[i][0], steps[iter].position[1] + moveResult[i][1]]
            } else {
              steps.push({
                position: [startingPosition[0] + moveResult[i][0], startingPosition[1] + moveResult[i][1]],
                steps: steps[iter].steps,
                steppedOnto: JSON.parse(JSON.stringify(steps[iter].steppedOnto))
              })
            }

            addedTimes++
          }
        }

        count++
      }

      console.log(steps)

      return steps
    }

    const partOne = (data) => {
      const t1 = performance.now()
      let sum = 0

      sum = Math.max(...move(data).map(val => val.steps))

      console.log('Time for solution one is ' + (performance.now() - t1).toFixed(2) + ' ms')
      console.log('Solution for part one is ' + sum + '!')
    }
    partOne(JSON.parse(JSON.stringify(data)))

    const partTwo = (data) => {
      const t1 = performance.now()
      let sum = 0

      console.log('Time for solution two is ' + (performance.now() - t1).toFixed(2) + ' ms')
      console.log('Solution for part two is ' + sum + '!')
    }
    partTwo(JSON.parse(JSON.stringify(data)))
  </script>
</body>

</html>